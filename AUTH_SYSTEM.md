# ๐ ูุธุงู ุงููุตุงุฏูุฉ ูุงูุฅุนุฌุงุจุงุช

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ูุชูุงูู ูุชุณุฌูู ุงูุฏุฎูู ูุงูุฅุนุฌุงุจุงุช ูููุณุชุฎุฏููู ุงูููุงุฆููู.

---

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. **ุชุณุฌูู ุงูุฏุฎูู ูููุณุชุฎุฏููู**

#### ุทุฑู ุชุณุฌูู ุงูุฏุฎูู:
- โ **Google OAuth** - ุชุณุฌูู ุฏุฎูู ุจุญุณุงุจ Google
- โ **ูุถูู** - ูุชุงุจุนุฉ ุจุฏูู ุญุณุงุจ (ูุน ุญูุธ ุงูุจูุงูุงุช ูุญููุงู)

#### ุงููููุฒุงุช:
- ุญูุธ ุญุงูุฉ ุชุณุฌูู ุงูุฏุฎูู (persist)
- ุนุฑุถ ุตูุฑุฉ ุงููุณุชุฎุฏู ูู ุงูู header
- ูุงุฆูุฉ ููุณุฏูุฉ ูููุณุชุฎุฏู
- ุฒุฑ ุชุณุฌูู ุฎุฑูุฌ

### 2. **ูุธุงู ุงูุฅุนุฌุงุจุงุช (Likes)**

#### ุงููุธุงุฆู:
- โ ุฅุนุฌุงุจ/ุฅูุบุงุก ุฅุนุฌุงุจ ุจุงููุญุชูู
- โ ุนุฑุถ ุนุฏุฏ ุงูุฅุนุฌุงุจุงุช
- โ ุญูุธ ุญุงูุฉ ุงูุฅุนุฌุงุจ ููู ูุณุชุฎุฏู
- โ **ูุชุทูุจ ุชุณุฌูู ุฏุฎูู** - ุนูุฏ ุงูุถุบุท ุนูู ุฅุนุฌุงุจ ุจุฏูู ุชุณุฌููุ ูุธูุฑ dialog ููุชุณุฌูู

#### ุงูุชุตููู:
- ุฒุฑ ุฅุนุฌุงุจ ูุน ุฃููููุฉ ููุจ
- ุนุฏุงุฏ ุงูุฅุนุฌุงุจุงุช
- ุชุบููุฑ ููู ุงูุฒุฑ ุนูุฏ ุงูุฅุนุฌุงุจ
- ุงูุชูุงู ุณูุณ

### 3. **ุชุญุณููุงุช UX**

#### ุงูุงูุชูุงู ุงูุณูุณ:
- โ ุนูุฏ ุงูููุฑ ุนูู ูุญุชูู ููุชุฑุญุ ุงูุตูุญุฉ ุชูุชูู ุจุณูุงุณุฉ ููุฃุนูู
- โ ุชุฃุซูุฑ hover ุนูู ุงูุจุทุงูุงุช ุงูููุชุฑุญุฉ
- โ ุงูุชูุงู ุณูุณ ุจูู ุงููุญุชูู

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏุงูู ุฌุฏูุฏุฉ:

#### 1. **users** - ุงููุณุชุฎุฏููู
```sql
- id (UUID)
- email (string, nullable)
- name (string, nullable)
- avatar (string, nullable)
- provider (enum: google, facebook, email)
- providerId (string, nullable)
- isActive (boolean)
- createdAt (timestamp)
- updatedAt (timestamp)
```

#### 2. **likes** - ุงูุฅุนุฌุงุจุงุช
```sql
- id (UUID)
- userId (UUID, FK -> users)
- contentId (UUID, FK -> content)
- createdAt (timestamp)
- UNIQUE(userId, contentId) - ูููุน ุงูุชูุฑุงุฑ
```

---

## ๐ง Backend APIs

### User Authentication

#### `POST /api/user-auth/google`
ุชุณุฌูู ุฏุฎูู ุจู Google
```json
Request:
{
  "token": "google-token",
  "email": "user@gmail.com",
  "name": "ุงุณู ุงููุณุชุฎุฏู",
  "avatar": "https://..."
}

Response:
{
  "access_token": "jwt-token",
  "user": {
    "id": "uuid",
    "email": "user@gmail.com",
    "name": "ุงุณู ุงููุณุชุฎุฏู",
    "avatar": "https://..."
  }
}
```

#### `POST /api/user-auth/guest`
ุชุณุฌูู ุฏุฎูู ูุถูู
```json
Request:
{
  "deviceId": "device_123"
}

Response:
{
  "access_token": "jwt-token",
  "user": {
    "id": "uuid",
    "name": "ุถูู",
    "isGuest": true
  }
}
```

### Likes APIs

#### `POST /api/likes/:contentId`
ุฅุนุฌุงุจ/ุฅูุบุงุก ุฅุนุฌุงุจ (ูุชุทูุจ authentication)
```json
Response:
{
  "liked": true,
  "totalLikes": 42
}
```

#### `GET /api/likes/content/:contentId`
ุนุฏุฏ ุงูุฅุนุฌุงุจุงุช ูููุญุชูู
```json
Response:
{
  "count": 42
}
```

#### `GET /api/likes/user/check/:contentId`
ุงูุชุญูู ูู ุฅุนุฌุงุจ ุงููุณุชุฎุฏู (ูุชุทูุจ authentication)
```json
Response:
{
  "liked": true
}
```

#### `GET /api/likes/user/all`
ุฌููุน ุฅุนุฌุงุจุงุช ุงููุณุชุฎุฏู (ูุชุทูุจ authentication)
```json
Response:
{
  "contentIds": ["uuid1", "uuid2", ...]
}
```

---

## ๐จ Frontend Components

### 1. **LoginDialog**
- Dialog ูุชุณุฌูู ุงูุฏุฎูู
- ุฎูุงุฑุงุช: Google ุฃู ูุถูู
- ุชุตููู ุงุญุชุฑุงูู
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 2. **UserStore (Zustand)**
- ุญูุธ ุจูุงูุงุช ุงููุณุชุฎุฏู
- ุญูุธ token
- persist ูู localStorage
- ุฏูุงู: login, logout

### 3. **Layout Updates**
- ุฒุฑ ุชุณุฌูู ุฏุฎูู ูู ุงูู header
- ุตูุฑุฉ ุงููุณุชุฎุฏู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู
- ูุงุฆูุฉ ููุณุฏูุฉ ูููุณุชุฎุฏู
- ุฒุฑ ุชุณุฌูู ุฎุฑูุฌ

### 4. **ContentDetail Updates**
- ุฒุฑ ุฅุนุฌุงุจ ุชูุงุนูู
- ุนุฏุงุฏ ุงูุฅุนุฌุงุจุงุช
- ูุชุญ dialog ุชุณุฌูู ุฏุฎูู ุนูุฏ ุงูุญุงุฌุฉ
- ุงูุชูุงู ุณูุณ ุจูู ุงููุญุชูู ุงูููุชุฑุญ

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏููู:

1. **ุชุณุฌูู ุงูุฏุฎูู:**
   - ุงูุชุญ http://localhost:5175
   - ุงุถุบุท "ุชุณุฌูู ุงูุฏุฎูู" ูู ุงูุฃุนูู
   - ุงุฎุชุฑ Google ุฃู ูุถูู

2. **ุงูุฅุนุฌุงุจ ุจุงููุญุชูู:**
   - ุงูุชุญ ุฃู ูุญุชูู
   - ุงุถุบุท ุฒุฑ "ุฅุนุฌุงุจ"
   - ุฅุฐุง ูู ุชูู ูุณุฌูุงูุ ุณูุทูุจ ููู ุงูุชุณุฌูู

3. **ุชุตูุญ ุงููุญุชูู ุงูููุชุฑุญ:**
   - ูู ุตูุญุฉ ุงูุชูุงุตููุ ุดุงูุฏ ุงููุงุฆูุฉ ุนูู ุงููููู
   - ุงุถุบุท ุนูู ุฃู ูุญุชูู ููุงูุชูุงู ุงูุณูุณ

---

## ๐ ุงูุฃูุงู

- โ ุฌููุน APIs ูุญููุฉ ุจู JWT
- โ Token ููุญูุธ ุจุดูู ุขูู
- โ ุงูุชุญูู ูู ุงููุณุชุฎุฏู ูู ูู ุทูุจ
- โ ููุน ุงูุชูุฑุงุฑ ูู ุงูุฅุนุฌุงุจุงุช (UNIQUE constraint)

---

## ๐ ููุงุญุธุงุช

### ููุฅูุชุงุฌ:
1. **Google OAuth:**
   - ุงุณุชุฎุฏู Google OAuth SDK ุงูุญูููู
   - ุงุญุตู ุนูู Client ID ูู Google Console
   - ุชุญูู ูู token ูู ุงูู backend

2. **ุงูุฃูุงู:**
   - ุงุณุชุฎุฏู HTTPS
   - ุงุญูุธ JWT_SECRET ุจุดูู ุขูู
   - ุฃุถู rate limiting
   - ุฃุถู CORS ูุญุฏุฏ

3. **ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ:**
   - ุฅุถุงูุฉ Facebook Login
   - ุฅุถุงูุฉ Apple Login
   - ุฅุถุงูุฉ Email/Password
   - ุฅุถุงูุฉ ูุธุงู ุงูุชุนูููุงุช
   - ุฅุถุงูุฉ ููุงุฆู ุงูุชุดุบูู ุงูููุถูุฉ

---

## ๐ฏ ุงูุฎูุงุตุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ูุชูุงูู ูููุตุงุฏูุฉ ูุงูุฅุนุฌุงุจุงุช:
- โ ุชุณุฌูู ุฏุฎูู ุณูู (Google + ุถูู)
- โ ูุธุงู ุฅุนุฌุงุจุงุช ุชูุงุนูู
- โ ุงูุชูุงู ุณูุณ ุจูู ุงููุญุชูู
- โ ุชุตููู ุงุญุชุฑุงูู
- โ ุฃูุงู ุนุงูู

**ุงูููุตุฉ ุงูุขู ุฌุงูุฒุฉ ูููุณุชุฎุฏููู!** ๐
