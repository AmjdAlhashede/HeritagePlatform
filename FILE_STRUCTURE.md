# ๐ ูููู ุงููููุงุช - File Structure

## ๐๏ธ ุฃูู ูุชู ุญูุธ ุงููุญุชูู ุงููุฑููุนุ

### ุงููุณุงุฑ ุงูุฑุฆูุณู:
```
backend/uploads/
```

### ุงููููู ุงูุชูุตููู:

```
backend/
โโโ uploads/
    โโโ original/                    # ุงููููุงุช ุงูุฃุตููุฉ ุงููุฑููุนุฉ
    โ   โโโ 1234567890-123456.mp4   # ููุฏูู ุฃุตูู
    โ   โโโ 1234567891-789012.mp4   # ููุฏูู ุฃุตูู ุขุฎุฑ
    โ   โโโ ...
    โ
    โโโ processed/                   # ุงููููุงุช ุงููุนุงูุฌุฉ
        โโโ {contentId-1}/           # ูุฌูุฏ ููู ูุญุชูู
        โ   โโโ thumbnail.jpg        # ุงูุตูุฑุฉ ุงููุตุบุฑุฉ (1280x720)
        โ   โโโ audio.mp3           # ุงูุตูุช ุงููุณุชุฎุฑุฌ (192kbps)
        โ   โโโ hls/                # HLS ููุจุซ
        โ       โโโ playlist.m3u8   # ูุงุฆูุฉ ุงูุชุดุบูู
        โ       โโโ segment0.ts     # ููุทุน 1
        โ       โโโ segment1.ts     # ููุทุน 2
        โ       โโโ ...
        โ
        โโโ {contentId-2}/
        โ   โโโ thumbnail.jpg
        โ   โโโ audio.mp3
        โ   โโโ hls/
        โ       โโโ ...
        โโโ ...
```

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `content`:
```sql
- id (UUID)
- title (string)
- description (text)
- type (video|audio)
- performerId (UUID)
- originalFileUrl (string)      -- /uploads/original/xxx.mp4
- thumbnailUrl (string)          -- /uploads/processed/{id}/thumbnail.jpg
- audioUrl (string)              -- /uploads/processed/{id}/audio.mp3
- hlsUrl (string)                -- /uploads/processed/{id}/hls/playlist.m3u8
- duration (int)                 -- ุจุงูุซูุงูู
- fileSize (bigint)              -- ุจุงูุจุงูุช
- isProcessed (boolean)          -- true = ููุดูุฑ, false = ูู ุงูุงูุชุธุงุฑ
- originalDate (date)            -- ุชุงุฑูุฎ ุงูุฅูุดุงุก ุงูุฃุตูู (ููุชุฑุงุซ)
- createdAt (timestamp)          -- ุชุงุฑูุฎ ุงูุฑูุน
- updatedAt (timestamp)
```

---

## ๐ ุฏูุฑุฉ ุญูุงุฉ ุงูููู

### 1. **ุงูุฑูุน:**
```
ุงููุณุชุฎุฏู ูุฑูุน video.mp4
โ
ููุญูุธ ูู: uploads/original/1234567890-123456.mp4
โ
ูููุดุฃ ุณุฌู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
  - isProcessed = false (ูู ุงูุงูุชุธุงุฑ)
  - originalFileUrl = /uploads/original/1234567890-123456.mp4
```

### 2. **ุงููุนุงูุฌุฉ ุงูุชููุงุฆูุฉ:**
```
FFmpeg ูุจุฏุฃ ุงููุนุงูุฌุฉ
โ
1. ุงุณุชุฎุฑุงุฌ metadata (ุงููุฏุฉุ ุงูุฏูุฉ)
2. ุชูููุฏ thumbnail.jpg
3. ุงุณุชุฎุฑุงุฌ audio.mp3
4. ุฅูุดุงุก HLS segments
โ
ููุญูุธ ูู ุดูุก ูู: uploads/processed/{contentId}/
```

### 3. **ุฅุฏุฎุงู ุงููุนูููุงุช:**
```
ุงููุณุคูู ูุฏุฎู:
  - ุงูุนููุงู
  - ุงููุตู
  - ุงููุคุฏู
  - ุชุงุฑูุฎ ุงูุฅูุดุงุก (ุงุฎุชูุงุฑู)
โ
ููุญุฏุซ ุงูุณุฌู:
  - isProcessed = true (ููุดูุฑ)
  - title, description, performerId, originalDate
```

### 4. **ุงููุดุฑ:**
```
ุงููุญุชูู ูุธูุฑ ุงูุขู:
  - ูู ุตูุญุฉ "ุงููุญุชูู" (ููุญุฉ ุงูุชุญูู)
  - ูู ุชุทุจูู Android (ูููุณุชุฎุฏููู)
  - ูู ุชุทุจูู ุงูููุจ (ูููุณุชุฎุฏููู)
```

---

## ๐ ููู ุชุชุญูู ูู ุงููููุงุชุ

### Windows:
```bash
# ุงุฐูุจ ููุฌูุฏ ุงููุดุฑูุน
cd backend

# ุดุงูุฏ ุงููููุงุช ุงูุฃุตููุฉ
dir uploads\original

# ุดุงูุฏ ุงููููุงุช ุงููุนุงูุฌุฉ
dir uploads\processed
```

### ุฃู ูู File Explorer:
```
ุงูุชุญ: C:\Users\{username}\MyProjects\ZawamelPlatform\backend\uploads
```

---

## ๐ ุญุฌู ุงููููุงุช

### ูุซุงู ูููุฏูู 100MB:
```
original/
  โโโ video.mp4                    100 MB

processed/{id}/
  โโโ thumbnail.jpg                ~500 KB
  โโโ audio.mp3                    ~5 MB
  โโโ hls/
      โโโ playlist.m3u8            ~2 KB
      โโโ segments (*.ts)          ~100 MB (ูุฌููุน)
```

**ุฅุฌูุงูู:** ~205 MB ููู ููุฏูู

---

## ๐๏ธ ุงูุญุฐู

ุนูุฏ ุญุฐู ูุญุชูู ูู ููุญุฉ ุงูุชุญูู:
- โ ููุญุฐู ุงูุณุฌู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ๏ธ ุงููููุงุช ุชุจูู ูู `uploads/` (ูุฏููุงู)

**ููุญุฐู ุงููุงูู:**
```bash
# ุงุญุฐู ุงููุฌูุฏ
rmdir /s /q uploads\processed\{contentId}

# ุงุญุฐู ุงูููู ุงูุฃุตูู (ุงุฎุชูุงุฑู)
del uploads\original\{filename}
```

---

## ๐ ุนุฑุถ ุงููุญุชูู ูู ููุญุฉ ุงูุชุญูู

### ุตูุญุฉ "ุงููุญุชูู":
- **ุงููู** - ุฌููุน ุงููุญุชูู (ููุดูุฑ + ูู ุงูุงูุชุธุงุฑ)
- **ููุดูุฑ** - ููุท ุงููุญุชูู ูุน ูุนูููุงุช
- **ูู ุงูุงูุชุธุงุฑ** - ููุท ุงููุญุชูู ุจุฏูู ูุนูููุงุช

### ุตูุญุฉ "ูุงุฆูุฉ ุงูุฑูุน ูุงููุดุฑ":
- ุนุฑุถ ุงูููุฏูููุงุช ุงููุฑููุนุฉ
- ูุนุงููุฉ ูู ููุฏูู
- ุฅุฏุฎุงู ุงููุนูููุงุช
- ุงููุดุฑ

---

## ๐ฏ ุงูุฎูุงุตุฉ

| ุงูููุงู | ุงููุตู |
|--------|-------|
| `uploads/original/` | ุงููููุงุช ุงูุฃุตููุฉ ุงููุฑููุนุฉ |
| `uploads/processed/{id}/` | ุงููููุงุช ุงููุนุงูุฌุฉ ููู ูุญุชูู |
| ูุงุนุฏุฉ ุงูุจูุงูุงุช | ูุนูููุงุช ุงููุญุชูู ูุฑูุงุจุท ุงููููุงุช |
| ุตูุญุฉ "ุงููุญุชูู" | ุนุฑุถ ุฌููุน ุงููุญุชูู (ููุดูุฑ + ุงูุชุธุงุฑ) |
| ุตูุญุฉ "ูุงุฆูุฉ ุงูุฑูุน" | ุฅุฏุงุฑุฉ ุงูุฑูุน ูุงููุดุฑ |

**ูู ุดูุก ููุธู ููุฑุชุจ!** ๐โจ
